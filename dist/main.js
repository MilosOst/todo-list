(()=>{"use strict";function t(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function e(e){t(1,arguments);var s=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===s?new Date(e.getTime()):"number"==typeof e||"[object Number]"===s?new Date(e):("string"!=typeof e&&"[object String]"!==s||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function s(s){t(1,arguments);var o=e(s);return o.setHours(0,0,0,0),o}function o(e,o){t(2,arguments);var r=s(e),a=s(o);return r.getTime()===a.getTime()}function r(e){return t(1,arguments),o(e,Date.now())}function a(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function n(s,o){t(2,arguments);var r=e(s),n=a(o);return isNaN(n)?new Date(NaN):n?(r.setDate(r.getDate()+n),r):r}function i(e){return t(1,arguments),o(e,n(Date.now(),1))}function c(s,o){t(1,arguments);var r=o||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,c=null==i?0:a(i),d=null==r.weekStartsOn?c:a(r.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=e(s),u=l.getDay(),p=(u<d?7:0)+u-d;return l.setDate(l.getDate()-p),l.setHours(0,0,0,0),l}function d(e,s,o){t(2,arguments);var r=c(e,o),a=c(s,o);return r.getTime()===a.getTime()}class l{constructor(t){this.name=t,this.tasks=[]}addTask(t){this.tasks.push(t)}removeTask(t){const e=this.tasks.findIndex((e=>e.id===t));this.tasks.splice(e,1)}getTasks(){return this.tasks}setTasks(t){this.tasks=t}getTodayTasks(){return this.tasks.filter((t=>r(t.getDate())))}getTomorrowTasks(){return this.tasks.filter((t=>i(t.getDate())))}getThisWeekTasks(){return this.tasks.filter((e=>{const s=e.getDate();return function(e,s){return t(1,arguments),d(e,Date.now(),s)}(s)&&!r(s)&&!i(s)}))}sortTasksByPriority(){this.tasks.sort(((t,e)=>t.priority<e.priority?1:-1))}}var u,p=new Uint8Array(16);function m(){if(!u&&!(u="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(p)}const g=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,h=function(t){return"string"==typeof t&&g.test(t)};for(var k=[],T=0;T<256;++T)k.push((T+256).toString(16).substr(1));const y=function(t,e,s){var o=(t=t||{}).random||(t.rng||m)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){s=s||0;for(var r=0;r<16;++r)e[s+r]=o[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=(k[t[e+0]]+k[t[e+1]]+k[t[e+2]]+k[t[e+3]]+"-"+k[t[e+4]]+k[t[e+5]]+"-"+k[t[e+6]]+k[t[e+7]]+"-"+k[t[e+8]]+k[t[e+9]]+"-"+k[t[e+10]]+k[t[e+11]]+k[t[e+12]]+k[t[e+13]]+k[t[e+14]]+k[t[e+15]]).toLowerCase();if(!h(s))throw TypeError("Stringified UUID is invalid");return s}(o)};class f{constructor(t,e,s,o){this.title=t,this.description=e,this.dueDate=s,this.priority=o,this.id=y()}updateInfo(t,e,s,o){this.title=t,this.description=e,this.dueDate=s,this.priority=o}getDate(){return new Date(this.dueDate)}}class v{constructor(){this.projects=[]}getProject(t){return this.projects.find((t=>t.name==t.name))}getProjects(){return this.projects}setProjects(t){this.projects=t}addProject(t){this.projects.push(t)}removeProject(t){const e=this.projects.findIndex((e=>e.name===t));this.projects.splice(e,1)}getTodayTasks(){const t=[];return this.getProjects().forEach((e=>t.push(...e.getTodayTasks()))),t}getTomorrowTasks(){const t=[];return this.getProjects().forEach((e=>t.push(...e.getTomorrowTasks()))),t}getWeeklyTasks(){const t=[];return this.getProjects().forEach((e=>t.push(...e.getThisWeekTasks()))),t}}class w{static updateTodoList(t){localStorage.setItem("todoList",JSON.stringify(t))}static getTodoList(){const t=Object.assign(new v,JSON.parse(localStorage.getItem("todoList")));return t.setProjects(t.getProjects().map((t=>Object.assign(new l,t)))),t.getProjects().forEach((t=>t.setTasks(t.getTasks().map((t=>Object.assign(new f,t)))))),t}static addProject(t){const e=w.getTodoList();e.addProject(t),w.updateTodoList(e)}static removeProject(t){const e=w.getTodoList();e.removeProject(t),w.updateTodoList(e)}static addTask(t,e){const s=w.getTodoList();s.getProject(e).addTask(t),w.updateTodoList(s)}static removeTask(t,e){const s=w.getTodoList();s.getProject(e).removeTask(t),w.updateTodoList(s)}}class j{static loadHomePage(){const t=document.createElement("div");return t.classList.add("tasks-section"),t.append(j.createTodaySection(),j.createTomorrowSection(),j.createWeeklySection()),document.body.appendChild(t),this.initFormButtons(),t}static createTodaySection(){const t=document.createElement("div");return t.classList.add("today-section"),t.innerHTML='\n        <div class="tasks-header">\n            <h2 class="date-header">Today</h2>\n            <div class="tasks-progress">\n                <p>0/3</p>\n            </div>\n        </div>\n        ',t.appendChild(this.createTodayTasks()),t}static createTodayTasks(){const t=w.getTodoList().getTodayTasks(),e=document.createElement("ul");return e.classList.add("tasks"),t.forEach((t=>{const s=document.createElement("li");s.textContent=t.title,e.appendChild(s)})),e}static createTomorrowSection(){const t=document.createElement("div");return t.classList.add("tomorrow-section"),t.innerHTML='\n        <div class="tasks-header">\n            <h2 class="date-header">Tomorrow</h2>\n            <div class="tasks-progress">\n                <p>0/3</p>\n            </div>\n        </div>\n        ',t.appendChild(this.createTomorrowTasks()),t}static createTomorrowTasks(){const t=w.getTodoList().getTomorrowTasks(),e=document.createElement("ul");return e.classList.add("tasks"),t.forEach((t=>{const s=document.createElement("li");s.textContent=t.title,e.appendChild(s)})),e}static createWeeklySection(){const t=document.createElement("div");return t.classList.add("weekly-section"),t.innerHTML='\n        <div class="tasks-header">\n        <h2 class="date-header">Rest of Week</h2>\n            <div class="tasks-progress">\n                <p>0/7</p>\n            </div>\n        </div>',t.appendChild(this.createWeeklyTasks()),t}static createWeeklyTasks(){const t=w.getTodoList().getWeeklyTasks(),e=document.createElement("ul");return e.classList.add("tasks"),t.forEach((t=>{const s=document.createElement("li");s.textContent=t.title,e.appendChild(s)})),e}static initFormButtons(){const t=document.querySelector("#select-project"),e=document.querySelector("#select-task");t.addEventListener("click",j.toggleForm),e.addEventListener("click",j.toggleForm)}static toggleForm(){this.classList.contains("selected")||("select-project"===this.id?(this.classList.add("selected"),document.querySelector("#add-project").style.display="flex",document.querySelector("#add-task").style.display="none",document.querySelector("#select-task").classList.remove("selected")):"select-task"===this.id&&(this.classList.add("selected"),document.querySelector("#add-task").style.display="flex",document.querySelector("#add-project").style.display="none",document.querySelector("#select-project").classList.remove("selected")))}}document.querySelector(".menu-toggle").addEventListener("click",(()=>{document.querySelector(".menu").classList.toggle("menu-open")})),j.loadHomePage()})();